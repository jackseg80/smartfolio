# Configuration template for SmartFolio
# Copy this file to .env and fill in your values

# Environment settings
DEBUG=false
ENVIRONMENT=production
RISK_SCORE_V2_ENABLED=true

# ==============================================================================
# SECURITY NOTICE - API Keys & Secrets
# ==============================================================================
#
# ⚠️  API keys are NO LONGER stored in .env (not multi-tenant safe)
#
# Store API keys in: data/users/{user_id}/secrets.json
#
# Template for secrets.json:
# {
#   "dev_mode": {"enabled": false, "mock_data": false},
#   "coingecko": {"api_key": "YOUR_COINGECKO_KEY", "pro": false},
#   "cointracking": {"api_key": "", "api_secret": ""},
#   "binance": {"api_key": "", "api_secret": "", "testnet": true},
#   "kraken": {"api_key": "", "api_secret": ""},
#   "exchanges": {"default": "binance"}
# }
#
# ==============================================================================

# Debug token (optional, for development only)
# Generate with: openssl rand -hex 32
DEBUG_TOKEN=

# Admin key (optional, for admin endpoints)
# Generate with: openssl rand -hex 32
ADMIN_KEY=

# Data source settings
ALLOW_STUB_SOURCES=false
COMPUTE_ON_STUB_SOURCES=false

# Server settings
PORT=8080
HOST=127.0.0.1

# API Base URL (for internal HTTP calls between services)
# Default: http://localhost:8080 (matches typical dev setup)
# Override if using different port or host
API_BASE_URL=http://localhost:8080

# Rate limiting (token bucket system)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60  # Legacy, not used with token bucket
# Token bucket configuration (generous for development)
SECURITY_RATE_LIMIT_REFILL_RATE=10.0  # Tokens per second
SECURITY_RATE_LIMIT_BURST_SIZE=50     # High burst for dev (many dashboard tiles)

# Logging
LOG_LEVEL=INFO

# Redis configuration (for caching, alerting, streaming)
# Install Redis first: see docs/REDIS_SETUP.md
REDIS_URL=redis://localhost:6379/0

# Debug & Testing Features (DEV ONLY - NEVER enable in production)
DEBUG_SIMULATION=false
ENABLE_ALERTS_TEST_ENDPOINTS=false

# CORS settings (development only)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Allowed Hosts (comma-separated list of allowed Host headers)
# Use "*" to allow all hosts (recommended for development)
ALLOWED_HOSTS=*

# ==============================================================================
# SaxoBank OAuth2 Credentials
# ==============================================================================
# Get credentials from: https://www.developer.saxo/openapi/appmanagement

# Simulation Environment (for testing)
SAXO_SIM_CLIENT_ID=your_sim_client_id_here
SAXO_SIM_CLIENT_SECRET=your_sim_client_secret_here

# Live Environment (PRODUCTION - real money!)
SAXO_LIVE_CLIENT_ID=your_live_client_id_here
SAXO_LIVE_CLIENT_SECRET=your_live_client_secret_here

# Active Environment (sim or live)
# Default: sim (safe for development)
SAXO_ENVIRONMENT=sim

# OAuth2 Redirect URIs (comma-separated for multiple environments)
# Must match EXACTLY what you configured in Saxo Developer Portal
SAXO_REDIRECT_URI=http://localhost:8080/api/saxo/callback